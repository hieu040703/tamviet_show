<nav id="mainNav" style="--background:hsl(var(--primary-500))"
     class="relative top-0 z-20 w-full pb-[25.64%] transition-[padding] max-md:min-h-[116px] md:relative md:!pb-0 md:bg-[var(--background)] md:!bg-none">
    <div class="absolute bottom-0 h-full w-full md:bg-[var(--background)] md:static">
        <picture>
            <source media="(max-width:767px)"
                    srcset="https://production-cdn.pharmacity.io/digital/640x0/plain/e-com/images/ecommerce/20240807152307-0-banner-header.png 640w, https://production-cdn.pharmacity.io/digital/768x0/plain/e-com/images/ecommerce/20240807152307-0-banner-header.png 768w, https://production-cdn.pharmacity.io/digital/828x0/plain/e-com/images/ecommerce/20240807152307-0-banner-header.png 828w, https://production-cdn.pharmacity.io/digital/1080x0/plain/e-com/images/ecommerce/20240807152307-0-banner-header.png 1080w">
            <img
                class="absolute bottom-0 h-full w-full bg-primary-500 object-cover object-bottom data-[rank='default']:bottom-0 md:bottom-0 md:hidden"
                src="https://production-cdn.pharmacity.io/digital/1590x0/plain/e-com/images/ecommerce/20240807152307-0-banner-header.png"
                alt="Customer ranking" loading="eager" width="500" height="500"
                srcset="https://production-cdn.pharmacity.io/digital/795x0/plain/e-com/images/ecommerce/20240807152307-0-banner-header.png 1x, https://production-cdn.pharmacity.io/digital/1590x0/plain/e-com/images/ecommerce/20240807152307-0-banner-header.png 2x"
                data-rank="default" decoding="async">
        </picture>
        <div class="hidden h-8 bg-primary-50 md:flex">
            <div class="container relative flex items-center justify-between space-x-6 py-1"
            >
                <div class="flex gap-3">
                    <div data-state="closed" class="focus-visible:outline-none flex">
                        <div class="flex cursor-pointer items-center gap-1 whitespace-nowrap text-xs"
                        >
                     <span
                         class="p-icon inline-flex align-[-0.125em] justify-center max-h-full max-w-full w-4 h-4 p-0">
                        <svg
                            xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none"
                            viewBox="0 0 18 18">
                           <path fill="currentColor"
                                 d="M.667 3.792V1.318c0-.36.29-.651.65-.651h2.475a.651.651 0 110 1.302H1.969v1.823a.651.651 0 11-1.302 0zM16.682.667h-2.474a.651.651 0 100 1.302h1.823v1.823a.651.651 0 101.302 0V1.318a.651.651 0 00-.65-.651zM3.792 16.032H1.968v-1.823a.651.651 0 10-1.302 0v2.474c0 .36.29.65.65.65h2.475a.651.651 0 100-1.301zm12.89-2.474a.651.651 0 00-.65.65v1.824h-1.824a.651.651 0 100 1.302h2.474c.36 0 .651-.292.651-.651v-2.474a.651.651 0 00-.65-.651zM8.43 3.873V7.78c0 .36-.291.65-.65.65H3.872a.651.651 0 01-.651-.65V3.873c0-.36.291-.65.65-.65H7.78c.36 0 .651.29.651.65zm-1.302.651H4.524V7.13h2.604V4.524zm7.324 3.907h-3.906a.651.651 0 01-.651-.651V3.873c0-.36.292-.65.651-.65h3.906c.36 0 .651.29.651.65V7.78c0 .36-.291.65-.65.65zm-.65-3.907h-2.605V7.13h2.604V4.524zM8.43 10.546v3.907c0 .36-.291.65-.65.65H3.872a.651.651 0 01-.651-.65v-3.906c0-.36.291-.651.65-.651H7.78c.36 0 .651.291.651.65zm-1.302.652H4.524v2.604h2.604v-2.604zm6.486 3.068h-2.23a.651.651 0 01-.65-.651v-2.23c0-.36.29-.651.65-.651h2.23c.36 0 .651.291.651.65v2.23a.65.65 0 01-.65.652zm-.65-2.23h-.929v.928h.928v-.928z"></path>
                        </svg>
                     </span>
                            <span>Tải ứng dụng</span>
                        </div>
                    </div>
                </div>
                <div class="grid grid-flow-col gap-4 text-xs">
               <span class="shrink-0 whitespace-nowrap">Hotline
                   <a rel="noopener noreferrer" href="tel:18006821">
                   <span class="ml-2 font-bold text-primary-500">1800 6821</span>
                   </a>
               </span>
                    <a rel="noopener noreferrer"
                       class="grid grid-flow-col items-center justify-start gap-1"
                       href="/danh-cho-khach-hang-doanh-nghiep.lp">
                        <p title="Giới Thiệu" class="truncate">Giới Thiệu</p>
                        <div class="relative h-4 w-8">
                            <img class="object-cover"
                                 src="https://prod-cdn.pharmacity.io/e-com/images/ecommerce/20240520103330-0-20240403091737-0-new-bagde.png"
                                 alt="20240520103330-0-20240403091737-0-new-bagde.png"
                                 loading="lazy"
                                 sizes="(max-width: 768px) 6rem, 6rem">
                        </div>
                    </a>
                    <a rel="noopener noreferrer"
                       class="grid grid-flow-col items-center justify-start gap-1" href="/goc-suc-khoe">
                        <p title="Góc sức khỏe" class="truncate">Góc sức khỏe</p>
                    </a>
                    <a target="_self" class="grid grid-flow-col items-center justify-start gap-1"
                       href="/he-thong-cua-hang">
                        <p title="Tuyển Dụng" class="truncate">Tuyển Dụng</p>
                    </a>
                </div>
            </div>
        </div>
        <div class="mx-auto w-full md:container md:relative md:pb-3 md:pt-4">
            <div class="flex items-center md:mb-4">
                <div class="flex w-full flex-col-reverse items-start md:flex-row">
                    <div class="hidden flex-shrink-0 md:flex md:w-[187px] md:justify-center"
                    >
                        <a href="/">
                            <img class="w-auto h-[63px] cursor-pointer"
                                 src="https://prod-cdn.pharmacity.io/e-com/images/static-website/pharmacity-logo.svg"
                                 alt="Pharmacity Logo">
                        </a>
                    </div>
                    <div class="z-[11] grid w-full grid-cols-1 md:z-[10] mt-4">
                        <div id="boxSearchContainer"
                             class="absolute bottom-[-20px] left-0 flex w-full px-4 transition-all md:relative md:!bottom-0 md:!w-full"
                        >
                            <div style="--background:hsl(var(--primary-500))" id="hamburgerMenuSticked"
                                 class="hidden items-center bg-[var(--background)] pe-2 "
                            ></div>
                            <div class="w-full drop-shadow">
                                <div class="mx-auto w-full">
                                    <div type="button" aria-haspopup="dialog" aria-expanded="false"
                                         aria-controls="radix-:r122:" data-state="closed">
                                        <div class="relative text-neutral-600">
                                            <button data-size="sm" type="button"
                                                    class="flex justify-center outline-none font-semibold focus:ring-primary-300 text-sm bg-transparent data-[size=sm]:text-sm border-0 hover:bg-0 hover:text-primary-500 focus:text-primary-500 absolute left-0 top-0 z-10 h-10 px-2 py-[10px] text-neutral-900">
                                    <span
                                        class="p-icon inline-flex align-[-0.125em] justify-center max-h-full max-w-full w-6 h-6">
                                       <svg
                                           viewBox="0 0 24 24" fill="none"
                                           xmlns="http://www.w3.org/2000/svg">
                                          <path
                                              fill-rule="evenodd" clip-rule="evenodd"
                                              d="M15.5 15.4366C15.7936 15.143 16.2697 15.143 16.5634 15.4366L21.7798 20.7163C22.0734 21.01 22.0734 21.4861 21.7798 21.7797C21.4861 22.0734 21.01 22.0734 20.7164 21.7797L15.5 16.5C15.2064 16.2064 15.2064 15.7303 15.5 15.4366Z"
                                              fill="currentColor"></path>
                                          <path fill-rule="evenodd"
                                                clip-rule="evenodd"
                                                d="M10.5 3.57732C6.67671 3.57732 3.57732 6.67671 3.57732 10.5C3.57732 14.3233 6.67671 17.4227 10.5 17.4227C14.3233 17.4227 17.4227 14.3233 17.4227 10.5C17.4227 6.67671 14.3233 3.57732 10.5 3.57732ZM2 10.5C2 5.80558 5.80558 2 10.5 2C15.1944 2 19 5.80558 19 10.5C19 15.1944 15.1944 19 10.5 19C5.80558 19 2 15.1944 2 10.5Z"
                                                fill="currentColor"></path>
                                       </svg>
                                    </span>
                                            </button>
                                            <div
                                                class="w-full border-neutral-500 placeholder:text-neutral-600 focus:ring-neutral-500 focus:border-neutral-700 outline-none p-3.5 search-input flex h-10 items-center justify-start rounded-sm border-0 bg-white py-1 pl-10 text-start text-sm font-medium text-neutral-700"
                                            ><span
                                                    class="truncate">Bạn đang tìm gì hôm nay...</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="fixedNav"
                         class="top-0 z-10 flex w-full min-w-[340px] flex-1 flex-row-reverse gap-3 px-4 py-3 text-right transition-colors max-md:bg-primary-500 md:static md:mx-0 md:min-w-[286px] md:flex-row md:pb-0 md:pl-1.5 md:pr-0 md:pt-0 mt-4"
                    >
                        <div class=" w-[62px] grid-cols-2 justify-items-end gap-2">

                            <div
                                class="relative flex h-9 w-9 items-center justify-center rounded-full border-0 bg-white p-2 md:!h-10 md:!w-10  md:bg-transparent md:text-white hover:md:bg-transparent hover:md:text-white focus:md:text-white"
                            >
                        <span
                            class="p-icon inline-flex align-[-0.125em] justify-center max-h-full max-w-full w-6 h-6">
                           <!--$-->
                           <svg
                               viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path
                                  fill-rule="evenodd" clip-rule="evenodd"
                                  d="M7.27236 19.3721C6.27946 19.3721 5.47455 20.1837 5.47455 21.1849C5.47455 22.1861 6.27946 22.9977 7.27236 22.9977C8.26526 22.9977 9.07017 22.1861 9.07017 21.1849C9.07017 20.1837 8.26526 19.3721 7.27236 19.3721ZM19.5774 19.3722C18.5845 19.3722 17.7796 20.1838 17.7796 21.185C17.7796 22.1862 18.5845 22.9978 19.5774 22.9978C20.5703 22.9978 21.3752 22.1862 21.3752 21.185C21.3752 20.1838 20.5703 19.3722 19.5774 19.3722Z"
                                  fill="currentColor"></path>
                              <path fill-rule="evenodd"
                                    clip-rule="evenodd"
                                    d="M1 1.0022H5.44999L6.08938 5.83638H22.9978L21.1882 14.9619C20.9305 16.2613 19.7991 17.1967 18.4853 17.1967H8.31206C6.9311 17.1967 5.76222 16.1657 5.58004 14.7841L3.98096 2.69416H1V1.0022ZM6.31317 7.52835L7.24327 14.5605C7.31441 15.1007 7.77167 15.5047 8.31206 15.5047H18.4853C18.999 15.5047 19.4419 15.1388 19.5428 14.6302C19.5428 14.6302 19.5428 14.6302 19.5428 14.6302L20.9511 7.52835H6.31317Z"
                                    fill="currentColor"></path>
                           </svg>
                            <!--/$-->
                        </span>
                                <div class="absolute bottom-0 left-0 right-0 top-0">
                                    <button data-size="sm" type="button"
                                            class="flex justify-center outline-none font-semibold border-neutral-200 hover:bg-bg-white hover:text-primary-500 focus:text-primary-500 text-sm px-4 py-2 h-9 rounded-full data-[size=xs]:w-8 data-[size=xs]:h-8 data-[size=xs]:p-1.5 data-[size=sm]:w-9 data-[size=sm]:h-9 data-[size=sm]:p-2 data-[size=md]:w-12 data-[size=md]:h-12 data-[size=md]:p-2.5 data-[size=lg]:w-13.5 data-[size=lg]:h-13.5 data-[size=lg]:p-2.5 relative border-0 bg-transparent"></button>
                                </div>
                            </div>
                        </div>
                        <div class="hiddenAtNavFixed relative flex-1 md:flex md:justify-end"
                        >
                     <span
                         class="border-color-white absolute bottom-[6px] left-0 top-[6px] hidden border-l-[1px] md:inline-block "></span>
                            <div class="hidden md:ml-2 md:inline-flex">
                                <button data-size="sm" type="button"
                                        class="relative justify-center outline-none font-semibold bg-white border border-neutral-200 hover:bg-bg-white hover:text-primary-500 focus:text-primary-500 text-sm px-4 py-2 h-9 items-center rounded-full btn-login flex">
                           <span
                               class="p-icon inline-flex align-[-0.125em] justify-center max-h-full max-w-full m-[-1] mr-1 h-6 w-6 px-0">
                              <svg
                                  viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                 <path
                                     d="M20.0711 4.92895C18.1823 3.0402 15.6711 2 13 2C10.3289 2 7.8177 3.0402 5.92891 4.92895C4.0402 6.8177 3 9.32891 3 12C3 14.6711 4.0402 17.1823 5.92891 19.0711C7.8177 20.9598 10.3289 22 13 22C15.6711 22 18.1823 20.9598 20.0711 19.0711C21.9598 17.1823 23 14.6711 23 12C23 9.32891 21.9598 6.8177 20.0711 4.92895ZM13 20.8281C10.3879 20.8281 8.03762 19.6874 6.41984 17.8785C7.42277 15.2196 9.99016 13.3281 13 13.3281C11.0584 13.3281 9.48438 11.7541 9.48438 9.8125C9.48438 7.87086 11.0584 6.29688 13 6.29688C14.9416 6.29688 16.5156 7.87086 16.5156 9.8125C16.5156 11.7541 14.9416 13.3281 13 13.3281C16.0098 13.3281 18.5772 15.2196 19.5802 17.8785C17.9624 19.6874 15.6121 20.8281 13 20.8281Z"
                                     fill="currentColor"></path>
                              </svg>
                           </span>
                                    <span>Đăng nhập/ Đăng ký</span>
                                </button>
                            </div>
                            <div class="flex h-full items-center gap-2 md:hidden">
                                <div id="hamburgerMenu"></div>
                                <a href="/"><img class="cursor-default my-auto h-[36px] w-[90px]"
                                                 src="https://prod-cdn.pharmacity.io/e-com/images/static-website/pharmacity-logo.svg"
                                                 alt="Pharmacity Logo"></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="hidden grid-cols-[187px_1fr] items-center md:grid md:gap-4 lg:gap-4">
                <div>
                    <div class="category">
                        <button
                            type="button"
                            class="relative outline-none font-semibold bg-white border border-neutral-200
                     hover:bg-bg-white hover:text-primary-500 focus:text-primary-500
                     py-2 h-9 flex w-[187px] items-center justify-start rounded-sm px-4 text-sm">
                     <span class="flex w-full items-center">
                        <span class="p-icon inline-flex max-h-full max-w-full w-5 h-5">
                           <!-- icon 3 gạch -->
                           <svg viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                              <path
                                  d="M21.2188 11.2222H2.78125C2.34977 11.2222 2 11.5704 2 11.9999C2 12.4295 2.34977 12.7777 2.78125 12.7777H21.2188C21.6502 12.7777 22 12.4295 22 11.9999C22 11.5704 21.6502 11.2222 21.2188 11.2222Z"
                                  fill="currentColor"/>
                              <path
                                  d="M21.2188 5H2.78125C2.34977 5 2 5.34821 2 5.77777C2 6.20733 2.34977 6.55554 2.78125 6.55554H21.2188C21.6502 6.55554 22 6.20733 22 5.77777C22 5.34821 21.6502 5 21.2188 5Z"
                                  fill="currentColor"/>
                              <path
                                  d="M21.2188 17.4446H2.78125C2.34977 17.4446 2 17.7928 2 18.2223C2 18.6519 2.34977 19.0001 2.78125 19.0001H21.2188C21.6502 19.0001 22 18.6519 22 18.2223C22 17.7928 21.6502 17.4446 21.2188 17.4446Z"
                                  fill="currentColor"/>
                           </svg>
                        </span>
                        <span class="ml-2 select-none text-base">Danh mục</span>
                     </span>
                            <span
                                class="p-icon inline-flex justify-center max-h-full max-w-full h-[14px] w-[14px] transition duration-200">
                        <svg viewBox="0 0 24 24" fill="none"
                             xmlns="http://www.w3.org/2000/svg">
                           <path
                               d="M12.7138 16.7077L21.7048 7.71374C22.0984 7.31909 22.0984 6.6797 21.7048 6.28406C21.3111 5.88941 20.6717 5.88941 20.2781 6.28406L12.0005 14.5646L3.72293 6.28505C3.32928 5.89041 2.68989 5.89041 2.29524 6.28505C1.90159 6.6797 1.90159 7.32009 2.29524 7.71474L11.2861 16.7087C11.6757 17.0973 12.3251 17.0973 12.7138 16.7077Z"
                               fill="currentColor"/>
                        </svg>
                     </span>
                        </button>
                    </div>
                </div>
                @include('frontend.layouts.partials.menu', ['menuKey' => 'main-menu'])
            </div>
        </div>
    </div>
</nav>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const navBlocks = document.querySelectorAll('.js-category-nav');

        navBlocks.forEach(function (block) {
            const swiperEl = block.querySelector('.category-playlist');
            if (!swiperEl) return;

            const overlayNext = block.querySelector('.js-category-overlay-next');
            const prevBtn = swiperEl.querySelector('.swiper-button-prev');
            const nextBtn = swiperEl.querySelector('.swiper-button-next');

            const swiper = new Swiper(swiperEl, {
                slidesPerView: 'auto',
                freeMode: true,
                watchOverflow: true,
                navigation: {
                    nextEl: nextBtn,
                    prevEl: prevBtn,
                },
                on: {
                    init(sw) {
                        updateButtons(sw);
                    },
                    slideChange(sw) {
                        updateButtons(sw);
                    },
                    resize(sw) {
                        updateButtons(sw);
                    },
                },
            });

            function updateButtons(sw) {
                const hasOverflow = !sw.isLocked;
                if (!hasOverflow) {
                    prevBtn.classList.add('hidden');
                    nextBtn.classList.add('hidden');
                    overlayNext && overlayNext.classList.add('hidden');
                    return;
                }
                if (sw.isBeginning) {
                    prevBtn.classList.add('hidden');
                } else {
                    prevBtn.classList.remove('hidden');
                }
                if (sw.isEnd) {
                    nextBtn.classList.add('hidden');
                    overlayNext && overlayNext.classList.add('hidden');
                } else {
                    nextBtn.classList.remove('hidden');
                    overlayNext && overlayNext.classList.remove('hidden');
                }
            }

            if (overlayNext) {
                overlayNext.addEventListener('click', function () {
                    swiper.slideNext();
                });
            }
        });
    });
</script>



